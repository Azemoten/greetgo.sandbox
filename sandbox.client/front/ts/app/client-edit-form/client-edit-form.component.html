<!--modal form-->
  <div [class.open]="isOpen" class="w3-modal">
  <div class="w3-modal-content w3-card-4 w3-animate-zoom" style="max-width:1200px">

    <div class="w3-center"><br>
      <h3 class="center">{{titleName}}</h3>
      <hr>
      <span (click)="closeForm()"
            class="w3-button w3-xlarge w3-hover-red w3-display-topright" title="Close Modal">&times;</span>
    </div>

    <div class="container">
      <div class="row">

        <div class="col s4">
          <input id="firstname" type="text" [(ngModel)]="clientDetails.firstname" #firstname="ngModel"
                 required pattern="[A-Za-zА-Яа-яЁё0-9]{2,}"/>
          <label for="firstname">Фамилия</label>
        </div>

        <div class="col s4">
          <input id="lastname" type="text" [(ngModel)]="clientDetails.lastname" #lastname="ngModel"
                 required pattern="[A-Za-zА-Яа-яЁё0-9]{2,}"/>
          <label for="lastname">Имя</label>
        </div>
        <div class="col s4">
          <input id="patronymic" type="text" [(ngModel)]="clientDetails.patronymic" #patronymic="ngModel"
                 required/>
          <label for="patronymic">Отчество</label>
        </div>
        <div *ngIf="firstname.invalid || lastname.invalid " class="alert alert-danger">
          не заполнено поле
        </div>

      </div>
      <div>
        <div>
          Пол:
        </div>
        <p>
          <label>
            <input name="group1" type="radio" checked [value]="genders[0]" [(ngModel)]="clientDetails.gender"
                   #gender1="ngModel" required/>
            <span>Мужчина</span>
          </label>
          <label>
            <input name="group1" type="radio" [value]="genders[1]" [(ngModel)]="clientDetails.gender"
                   #gender2="ngModel" required/>
            <span>Женщина</span>
          </label>
        </p>
        <div *ngIf="gender2.invalid" class="alert alert-danger">
          не заполнено поле
        </div>
      </div>

      <input id="dateOfBirth" type="date" [(ngModel)]="clientDetails.dateOfBirth" #date="ngModel" required/>
      <label for="dateOfBirth">Дата Рождения</label>
      <div *ngIf="date.invalid " class="alert alert-danger">
        не заполнено поле
      </div>

      <select class="form-control " name="company" [(ngModel)]="clientDetails.characterId" #charater="ngModel"
              required>
        <option *ngFor="let character of charm" [value]="character.id" [class.strikethrough]="!character.actually">
          {{character.name}}
        </option>
      </select>
      <label>Характер</label>
      <div *ngIf="clientDetails.characterId==0" class="alert alert-danger">
        не заполнено поле
      </div>

      <div class="row">
        <div class="col s12">
          <p>
            Адрес проживания (фактический)
          </p>

        </div>
        <div class="col s4">
          <input id="addressOfResidenceStreet" type="text"
                 [(ngModel)]="clientDetails.addressOfResidence.street">
          <label for="addressOfResidenceStreet">Улица</label>
        </div>
        <div class="col s4">
          <input id="addressOfResidenceHome" type="text" [(ngModel)]="clientDetails.addressOfResidence.house">
          <label for="addressOfResidenceHome">Дом</label>
        </div>
        <div class="col s4">
          <input id="addressOfResidenceApartment" type="text"
                 [(ngModel)]="clientDetails.addressOfResidence.flat">
          <label for="addressOfResidenceApartment">Квартира</label>
        </div>
      </div>

      <div class="row">
        <div class="col s12">
          <p>
            Адрес регистрации *
          </p>
        </div>
        <div class="col s4">

          <input id="addressOfRegistrationStreet" type="text"
                 [(ngModel)]="clientDetails.addressOfRegistration.street" #addressOfRegistrationStreet="ngModel"
                 required/>
          <label for="addressOfRegistrationStreet">Улица</label>
        </div>
        <div class="col s4">

          <input id="addressOfRegistrationHome" type="text"
                 [(ngModel)]="clientDetails.addressOfRegistration.house" #addressOfRegistrationHome="ngModel"
                 required/>
          <label for="addressOfRegistrationHome">Дом</label>
        </div>
        <div class="col s4">
          <input id="addressOfRegistrationApartment" type="text"
                 [(ngModel)]="clientDetails.addressOfRegistration.flat" #addressOfRegistrationApartment="ngModel"
                 required/>
          <label for="addressOfRegistrationApartment">Квартира</label>
        </div>
        <div
          *ngIf="addressOfRegistrationStreet.invalid || addressOfRegistrationHome.invalid || addressOfRegistrationApartment.invalid "
          class="alert alert-danger">
          не заполнено поле
        </div>


      </div>

      <div class="row">
        <div class="col s12">
          <p>
            Телефоны (один мобильный обязателен)
          </p>
        </div>
        <div class="col s12">
          <div class="col s7">
            <input type="text" [(ngModel)]="clientDetails.phone[0].number" minlength="11" maxlength="12"
                   placeholder="+7 708 111 11 11"
                   #phoneMobile="ngModel"
                   required pattern="[+8]{1}[7-8]{1}[0-9]{9,}"/>
          </div>

          <div class="col s3">
            <select class="form-control" [(ngModel)]="clientDetails.phone[0].type"
                    #phoneMobileType="ngModel"
                    required>
              <option [value]="phoneType[2]">
                {{phoneType[2]}}

              </option>
            </select>

          </div>
          <div class="col s1">
            <button class="waves-effect waves-light btn material-icons"
                    [disabled]="clientDetails.phone[5]!=null " (click)="editablePhoneNumberOfClientDetails(true,0)">
              add
            </button>
          </div>


          <div class="col s12">
            <div class="col s12" *ngIf="phoneMobile.invalid || phoneMobileType.invalid" class="alert alert-danger">
              не правильно заполнено поле
            </div>
          </div>
        </div>

        <div *ngFor="let phone of clientDetails.phone; first as isFirst; index as i">
          <div class="col s7">
            <input type="text" *ngIf="!isFirst" [(ngModel)]="phone.number" minlength="11" maxlength="12"
                   placeholder="+7 708 111 11 11"
                   [(ngModel)]="phone.number"
                   [ngModel]="phone.name"

                   required pattern="[+8]{1}[7-8]{1}[0-9]{9,}"/>
          </div>
          <div class="col s3">
            <select class="form-control" *ngIf="!isFirst" required
                    [(ngModel)]="phone.type"
            >
              <option *ngFor="let type of phoneType" [value]="type">
                {{type}}
              </option>

            </select>
          </div>

          <div class="col s1">
            <button class="waves-effect waves-light btn material-icons " *ngIf="!isFirst"
                    [disabled]="clientDetails.phone[1]==null" (click)="editablePhoneNumberOfClientDetails(false,i)">
              remove
            </button>
          </div>

        </div>


      </div>


    </div>

    <div class="w3-container w3-border-top w3-padding-16 w3-light-grey">
      <div class="row">
        <div class="col s8"></div>
        <div class="col s2">
          <button class="waves-effect waves-light btn" [disabled]="firstname.invalid || (gender1.invalid || gender2.invalid) || date.invalid
        || clientDetails.characterId==0  || addressOfRegistrationStreet.invalid || addressOfRegistrationHome.invalid || addressOfRegistrationApartment.invalid || phoneMobile.invalid"
                  (click)="addOrEdit()">Сохранить
          </button>
        </div>
        <div class="col s2">
          <button class="waves-effect waves-light btn"
                  (click)="closeForm()"
          >Отмена
          </button>
        </div>
      </div>
    </div>

  </div>
</div>
<!--modal form-->