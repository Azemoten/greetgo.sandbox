<p-button label="Добавить + " class="add-btn" (onClick)="add()"></p-button>
<p-table [value]="clients" selectionMode="single">
  <ng-template pTemplate="header">
    <tr>
      <th>ФИО</th>
      <th>Характер</th>
      <th>Возраст</th>
      <th>Общий остаток счетов</th>
      <th>Максимальный остаток</th>
      <th>Минимальный остаток</th>
      <th>Действия</th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-data>
    <tr class="tRow" [class.selected]="data===selectedClient" (click)="onSelect(data)">
      <td>{{data.lastName}} {{data.name}} {{data.fatherName}}</td>
      <td>{{data.character}}</td>
      <td>{{data.age}}</td>
      <td>{{data.totalBalance}}</td>
      <td>{{data.maxBalance}}</td>
      <td>{{data.minBalance}}</td>
      <td>
        <p-button [disabled]="data!=selectedClient" class="edit-btn" (click)="edit(data.id)" label="..."></p-button>
        <p-button [disabled]="data!=selectedClient" class="delete-btn" (click)="deleteClient(data.id)" label="-"></p-button>
      </td>
    </tr>
  </ng-template>
</p-table>

<p-dialog [modal]="true" [(visible)]="display" [width]="800" [responsive]="true" (onHide)="closed()">
  <p-header style="font-weight: bold;">
    {{header}}
  </p-header>

  <form *ngIf="clientDetail" [formGroup]="clientform">
    <div class="ui-grid ui-grid-responsive ui-grid-pad ui-fluid" style="margin: 10px 0px">
      <div class="ui-grid-row">
        <div class="ui-grid-col-2">
          Фамилия *:
        </div>
        <div class="ui-grid-col-6">
          <input type="text" pInputText [pKeyFilter]="symbols" placeholder="Введите фамилию" formControlName="lastname"
            name="lastName" [(ngModel)]="clientDetail.lastName" />
        </div>
        <div class="ui-grid-col-4">
          <p-message severity="error" text="Введите фамилию" *ngIf="!clientform.controls['lastName'].valid"></p-message>
        </div>
      </div>

      <div class="ui-grid-row">
        <div class="ui-grid-col-2">
          Имя *:
        </div>
        <div class="ui-grid-col-6">
          <input pInputText type="text" [pKeyFilter]="symbols" placeholder="Введите имя" formControlName="name" name="name"
            [(ngModel)]="clientDetail.name" />
        </div>
        <div class="ui-grid-col-4">
          <p-message severity="error" text="Введите имя" *ngIf="!clientform.controls['name'].valid"></p-message>
        </div>
      </div>

      <div class="ui-grid-row">
        <div class="ui-grid-col-2">
          Отчество:
        </div>
        <div class="ui-grid-col-6">
          <input pInputText type="text" [pKeyFilter]="symbols" placeholder="Введите отчество" formControlName="fatherName"
            name="fatherName" [(ngModel)]="clientDetail.fatherName" />
        </div>
      </div>

      <div class="ui-grid-row">
        <div class="ui-grid-col-2">
          Пол *:
        </div>
        <div class="ui-grid-col-6">
          <p-radioButton type="radio" class="ui-g-12" name="gender" value="Мужской" label="Мужской" formControlName="gender"
            [(ngModel)]="clientDetail.gender"></p-radioButton>
          <p-radioButton type="radio" class="ui-g-12" name="gender" value="Женский" label="Женский" formControlName="gender"
            [(ngModel)]="clientDetail.gender"></p-radioButton>
        </div>
        <div class="ui-grid-col-4">
          <p-message severity="error" text="Выберите пол" *ngIf="!clientform.controls['gender'].valid"></p-message>
        </div>
      </div>

      <div class="ui-grid-row">
        <div class="ui-grid-col-2">
          Дата рождения *:
        </div>
        <div class="ui-grid-col-6">
          <p-calendar [monthNavigator]="true" [yearNavigator]="true" yearRange="1900:2030" formControlName="bithDate"
            name="birthDate" [(ngModel)]="clientDetail.birthDate"></p-calendar>
        </div>
        <div class="ui-grid-col-4">
          <p-message severity="error" text="Введите дату рождения" *ngIf="!clientform.controls['bithDate'].valid"></p-message>
        </div>
      </div>


      <div class="ui-grid-row">
        <div class="ui-grid-col-2">
          Характер *:
        </div>
        <div class="ui-grid-col-6">
          <p-dropdown [options]="characters" [(ngModel)]="clientDetail.character" name="character" formControlName="character"
            placeholder="Выберите характер"></p-dropdown>
        </div>
        <div class="ui-grid-col-4">
          <p-message severity="error" text="Выберите характер" *ngIf="!clientform.controls['character'].valid"></p-message>
        </div>
      </div>


      <div>
        <h4>Адрес проживания (фактический)</h4>

        <div class="ui-grid-row">
          <div class="ui-grid-col-2">
            Улица:
          </div>
          <div class="ui-grid-col-6">
            <input type="text" pInputText [pKeyFilter]="symbols" placeholder="Введите улицу" formControlName="factStreet"
              name="factStreet" [(ngModel)]="clientDetail.factStreet" />
          </div>
        </div>


        <div class="ui-grid-row">
          <div class="ui-grid-col-2">
            Дом:
          </div>
          <div class="ui-grid-col-6">
            <input pInputText type="text" pKeyFilter="int" placeholder="Введите номер дома" formControlName="factNo"
              name="factNo" [(ngModel)]="clientDetail.factNo" />
          </div>
        </div>


        <div class="ui-grid-row">
          <div class="ui-grid-col-2">
            Квартира:
          </div>
          <div class="ui-grid-col-6">
            <input pInputText type="text" pKeyFilter="int" placeholder="Введите номер квартиры" formControlName="factFlat"
              name="factFlat" [(ngModel)]="clientDetail.factFlat" />
          </div>
        </div>
      </div>

      <div>
        <h4>Адрес регистрации *</h4>


        <div class="ui-grid-row">
          <div class="ui-grid-col-2">
            Улица *:
          </div>
          <div class="ui-grid-col-6">
            <input type="text" pInputText [pKeyFilter]="symbols" placeholder="Введите улицу" formControlName="regStreet"
              name="regStreet" [(ngModel)]="clientDetail.regStreet" />
          </div>
          <div class="ui-grid-col-4">
            <p-message severity="error" text="Введите улицу" *ngIf="!clientform.controls['regStreet'].valid"></p-message>
          </div>
        </div>


        <div class="ui-grid-row">
          <div class="ui-grid-col-2">
            Дом *:
          </div>
          <div class="ui-grid-col-6">
            <input pInputText type="text" pKeyFilter="int" placeholder="Введите номер дома" formControlName="regNo"
              name="regNo" [(ngModel)]="clientDetail.regNo" />
          </div>
          <div class="ui-grid-col-4">
            <p-message severity="error" text="Введите номер дома" *ngIf="!clientform.controls['regNo'].valid"></p-message>
          </div>
        </div>


        <div class="ui-grid-row">
          <div class="ui-grid-col-2">
            Квартира *:
          </div>
          <div class="ui-grid-col-6">
            <input pInputText type="text" pKeyFilter="int" placeholder="Введите номер квартиры" formControlName="regFlat"
              name="regFlat" [(ngModel)]="clientDetail.regFlat" />
          </div>
          <div class="ui-grid-col-4">
            <p-message severity="error" text="Введите номер квартиры" *ngIf="!clientform.controls['regFlat'].valid"></p-message>
          </div>
        </div>
      </div>

      <div>
        <h4>Телефоны (один мобильный обязателен)</h4>


        <div class="ui-grid-row">
          <div class="ui-grid-col-2">
            Домашний:
          </div>
          <div class="ui-grid-col-6">
            <p-inputMask mask="+7-(272)-999-99-99" placeholder="+7-(272)-xxx-xx-xx" formControlName="homePhoneNumber"
              name="homePhoneNumber" [(ngModel)]="clientDetail.homePhoneNumber"></p-inputMask>
          </div>
        </div>

        <div class="ui-grid-row">
          <div class="ui-grid-col-2">
            Рабочий:
          </div>
          <div class="ui-grid-col-6">
            <p-inputMask mask="+7-(272)-999-99-99" placeholder="+7-(272)-xxx-xx-xx" formControlName="workPhoneNumber"
              name="workPhoneNumber" [(ngModel)]="clientDetail.workPhoneNumber"></p-inputMask>
          </div>
        </div>

        <div class="ui-grid-row">
          <div class="ui-grid-col-2">
            Мобильный1 *:
          </div>
          <div class="ui-grid-col-6">
            <p-inputMask mask="+7-(799)-999-99-99" placeholder="+7-(7xx)-xxx-xx-xx" formControlName="mobileNumber1"
              name="mobileNumber1" [(ngModel)]="clientDetail.mobileNumber1"></p-inputMask>
          </div>
          <div class="ui-grid-col-4">
            <p-message severity="error" text="Введите номер телефона" *ngIf="!clientform.controls['mobileNumber1'].valid"></p-message>
          </div>
        </div>

        <div class="ui-grid-row">
          <div class="ui-grid-col-2">
            Мобильный2:
          </div>
          <div class="ui-grid-col-6">
            <p-inputMask mask="+7-(799)-999-99-99" placeholder="+7-(7xx)-xxx-xx-xx" formControlName="mobileNumber2"
              name="mobileNumber2" [(ngModel)]="clientDetail.mobileNumber2"></p-inputMask>
          </div>
        </div>


        <div class="ui-grid-row">
          <div class="ui-grid-col-2">
            Мобильный3:
          </div>
          <div class="ui-grid-col-6">
            <p-inputMask mask="+7-(799)-999-99-99" placeholder="+7-(7xx)-xxx-xx-xx" formControlName="mobileNumber3"
              name="mobileNumber3" [(ngModel)]="clientDetail.mobileNumber3"></p-inputMask>
          </div>
        </div>
      </div>
    </div>
  </form>

  <p-footer>

    <div class="ui-grid-row">
      <div class="ui-grid-col-2"></div>
      <div class="ui-grid-col-6">
        <p-button type="submit" label="Сохранить" [disabled]="!(clientform.valid&&clientform.dirty)" (onClick)="saveClient1()"
          icon="pi pi-check"></p-button>
        <p-button label="Отмена" (onClick)="cancel()"></p-button>
      </div>
      <div class="ui-grid-col-4"></div>
    </div>

  </p-footer>
</p-dialog>